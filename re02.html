<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>jobctl</title><meta name="generator" content="DocBook XSL Stylesheets V1.76.1"><link rel="home" href="index.html" title="jobd Handbook"><link rel="up" href="apa.html" title="Appendix A. Manual pages"><link rel="prev" href="re01.html" title="jobcfg"><link rel="next" href="re03.html" title="job"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">jobctl</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="re01.html">Prev</a> </td><th width="60%" align="center">Appendix A. Manual pages</th><td width="20%" align="right"> <a accesskey="n" href="re03.html">Next</a></td></tr></table><hr></div><div class="refentry" title="jobctl"><a name="jobctl"></a><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>jobctl — control jobs</p></div><div class="refsynopsisdiv" title="Synopsis"><h2>Synopsis</h2><div class="cmdsynopsis"><p><code class="command">jobctl</code>  {<em class="replaceable"><code>label</code></em>}  disable </p></div><div class="cmdsynopsis"><p><code class="command">jobctl</code>  {<em class="replaceable"><code>label</code></em>}  enable </p></div><div class="cmdsynopsis"><p><code class="command">jobctl</code>  {<em class="replaceable"><code>label</code></em>}  list </p></div><div class="cmdsynopsis"><p><code class="command">jobctl</code>  {<em class="replaceable"><code>label</code></em>}  refresh </p></div><div class="cmdsynopsis"><p><code class="command">jobctl</code>  {<em class="replaceable"><code>label</code></em>}  restart </p></div><div class="cmdsynopsis"><p><code class="command">jobctl</code>  {<em class="replaceable"><code>label</code></em>}  mark  [ degraded  |   maintenance  |   outdated ]</p></div><div class="cmdsynopsis"><p><code class="command">jobctl</code>  {<em class="replaceable"><code>label</code></em>}  clear </p></div></div><div class="refsect1" title="Description"><a name="idp60693120"></a><h2>Description</h2><p>
<span class="command"><strong>jobctl</strong></span> manages jobs for jobd. Each job has a unique label.
</p><p>
The following subcommands and options are available:
</p><div class="variablelist"><dl><dt><span class="term">
			<code class="literal">jobctl</code>
			<em class="replaceable"><code>label</code></em>
			<code class="literal">disable</code>
		</span></dt><dd><p>
Disable the job. If the job is currently running, it will be automatically stopped.
			</p></dd><dt><span class="term">
			<code class="literal">jobctl</code>
			<em class="replaceable"><code>label</code></em>
			<code class="literal">enable</code>
		</span></dt><dd><p>
Enable the job. If the job is currently stopped, it will be automatically started.
			</p></dd><dt><span class="term">
			<code class="literal">jobctl</code>
			<em class="replaceable"><code>label</code></em>
			<code class="literal">list</code>
		</span></dt><dd><p>
Display status information about a job. If <em class="replaceable"><code>label</code></em> is omitted,
status about all jobs will be displayed. 
			</p></dd><dt><span class="term">
			<code class="literal">jobctl</code>
			<em class="replaceable"><code>label</code></em>
			<em class="replaceable"><code>refresh</code></em>
		</span></dt><dd><p>
Signal the job to reload it's running configuration. If the job is currently stopped,
this subcommand has no effect. Not all jobs support the ability to refresh their configuration.
If the new configuration has errors, the job may be transitioned to the "degraded"
or "maintenance" states, depending on the severity of the error.
			</p></dd><dt><span class="term">
			<code class="literal">jobctl</code>
			<em class="replaceable"><code>label</code></em>
			<code class="literal">restart</code>
			[ <code class="literal">-f, --force</code> ]
		</span></dt><dd><p>
Sends a SIGTERM to the process, waits for the process to exit, and then starts
a new copy of the process.
			</p><p>
If the --force option is added, the process will be forcibly stopped by sending
it a SIGKILL. This may cause data loss and is only recommended if the process
cannot be stopped through normal means. 
			</p><p>
By default, all members of the process' process group are sent the same signal.
</p></dd><dt><span class="term">
			<code class="literal">jobctl</code>
			<em class="replaceable"><code>label</code></em>
			<code class="literal">mark</code>
			<code class="literal">&lt;degraded|maintenance|outdated&gt;</code>
		</span></dt><dd><p>
Mark a job as faulted. The fault states are: degraded, maintenance, and outdated.
			</p><p>
A job is "degraded" when a non-critical problem is detected with the configuration
or the environment. The job will continue to run, but may not be providing optimal
service. This situation usually calls for manual intervention by a system administrator. 
			</p><p>
A job is in "maintenance" mode when a critical problem is detected with the configuration
or the environment. The job will not run, and will be stopped as part of transitioning
to maintenance mode. This situation calls for manual intervention by a system administrator. 
			</p><p>
A job is in "outdated" mode when the job configuration has changed. The job will continue
to run, but is using outdated information. This situation calls for an administrator to
run the "jobctl refresh" command to cause the process to reload it's configuration. 
</p></dd><dt><span class="term">
			<code class="literal">jobctl</code>
			<em class="replaceable"><code>label</code></em>
			<code class="literal">clear</code>
		</span></dt><dd><p>
Clear faults in a job, and attempt to bring the job back online.
This command should be run by an administrator after they have taken
action to correct the fault. 
			</p><p>
If the job is currently in the "degraded" state, (TODO: what happens? refresh or restart?) 
			</p><p>
If the job is currently in "maintenance" mode, clearing the job will
cause it to be started. 
			</p><p>
If the job is currently in "outdated" mode, clearing the fault will cause
the "refresh" command to be issued. Alternatively, running the "job refresh"
command directly will implicitly clear the "outdated" fault. 
</p></dd></dl></div></div><div class="refsect1" title="ENVIRONMENT"><a name="idp60724480"></a><h2>ENVIRONMENT</h2><p>
	The <span class="command"><strong>jobctl</strong></span> command does not rely on any environment variables.
	</p></div><div class="refsect1" title="EXIT STATUS"><a name="idp60726144"></a><h2>EXIT STATUS</h2><p>
	The <span class="command"><strong>jobctl</strong></span> command exits 0 on success, and &gt;0 if an error occurs
	</p></div><div class="refsect1" title="SEE ALSO"><a name="idp60727808"></a><h2>SEE ALSO</h2><p>
	<span class="citerefentry"><span class="refentrytitle">jobcfg</span>(1)</span>
	<span class="citerefentry"><span class="refentrytitle">jobd</span>(8)</span>
	<span class="citerefentry"><span class="refentrytitle">job</span>(5)</span>
	</p></div><div class="refsect1" title="AUTHORS"><a name="idp60731264"></a><h2>AUTHORS</h2><p>
		Mark Heily &lt;mark@heily.com&gt;
	</p></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="re01.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="apa.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="re03.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">jobcfg </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> job</td></tr></table></div></body></html>
